<!DOCTYPE html>
<html>
<head>
	<title>SpartaHack Data Visualization</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		window.listOfColleges = [
			{%for key, value in colleges.items%}
			{"school":"{{key}}", "number":{{value}}},
			{%endfor%}
		];
	</script>
</head>
<body>
	<div class = "container-fluid">
		<div class = "row">
			<div class = " col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<center><h1>Better Than the Default TypeForm Report</h1></center>
			</div>
		</div>
		<div class = "row">
			<div class = " col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<center>
					<table class = "table-striped">
						<thead><tr>
							<th onclick="sortBy('name');">School Name</th>
							<th onclick="sortBy('number');">Number of People</th>
						</tr></thead>
						<tbody id = "data">
						</tbody>
					</table>
				</center>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function sortBy(thing){
			if(thing == "number"){
				window.listOfColleges.sort(function(a, b) { 
				    return a.number - b.number;
				})
			}
			else if(thing = "name"){
				window.listOfColleges.sort(function(a, b) { 
				    if(a.school < b.school) return -1;
				    if(a.school > b.school) return 1;
				    return 0;
				})
				
			}
			var strToAdd = "";
			$(window.listOfColleges).each(function(i,e,a){
				strToAdd += "<tr><td class = 'school'>"+e.school+"</td><td class = 'number'>"+e.number+"</td></tr>";
			});

			$("#data").html(strToAdd);
		}
		sortBy("name")
	</script>
</body>
</html>

